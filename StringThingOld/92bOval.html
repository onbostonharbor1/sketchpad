<!DOCTYPE html>
<html lang="en">
<meta charset="utf-8" />
<title>Interactive Curve Stitch Oval Band</title>
<style>
  body {
    margin:0; display:grid; grid-template-rows: 1fr auto;
    height:100vh; background:#0c0c0f; color:#ddd; font-family:sans-serif;
  }
  canvas { display:block; width:100%; height:100%; background:#0c0c0f; }
  .controls {
    display:flex; flex-wrap:wrap; gap:1em; padding:0.5em 1em;
    background:#111; border-top:1px solid #333; font-size:14px;
  }
  label { display:flex; flex-direction:column; align-items:flex-start; }
  input[type=range] { width:200px; }
</style>
<body>
<canvas id="c"></canvas>
<div class="controls">
  <label>Phase <input id="phase" type="range" min="0" max="6.28" step="0.01" value="2.35"></label>
  <label>Skew Amp <input id="skew" type="range" min="0" max="1.5" step="0.01" value="0.38"></label>
  <label>Inner Scale <input id="scale" type="range" min="0.2" max="0.95" step="0.01" value="0.60"></label>
  <label>Rotation <input id="rot" type="range" min="0" max="90" step="1" value="18"></label>
</div>
<script>
(function(){
  const cfg = {
    rx: 460, ry: 300,
    innerScale: 0.60,
    rotationDeg: 18,
    phase: 2.35,
    skewAmp: 0.38,
    skewFreq: 1,
    lines: 3200,
    lineWidth: 0.5,
//    startColor: [255,200,230],
    startColor: [78,159,229],
//    endColor:   [255,255,255],
    endColor:   [173,216,230],
    fadeEdges: true
  };

  const canvas=document.getElementById("c");
  const ctx=canvas.getContext("2d");

  function resize(){
    const dpr=Math.max(1,window.devicePixelRatio||1);
    canvas.width=innerWidth*dpr;
    canvas.height=innerHeight*dpr;
    canvas.style.width=innerWidth+"px";
    canvas.style.height=innerHeight+"px";
    ctx.setTransform(dpr,0,0,dpr,0,0);
    draw();
  }
  window.addEventListener("resize",resize);

  function lerp(a,b,t){return a+(b-a)*t;}
  function lerp3(a,b,t){return[lerp(a[0],b[0],t),lerp(a[1],b[1],t),lerp(a[2],b[2],t)];}

  function draw(){
    const {rx,ry,innerScale,rotationDeg,phase,skewAmp,skewFreq,
           lines,lineWidth,startColor,endColor,fadeEdges}=cfg;
    const w=canvas.width/(window.devicePixelRatio||1);
    const h=canvas.height/(window.devicePixelRatio||1);
    const cx=w/2,cy=h/2;

    ctx.fillStyle="#0c0c0f";
    ctx.fillRect(0,0,w,h);
    ctx.lineCap="round"; ctx.lineWidth=lineWidth;
    ctx.globalCompositeOperation="source-over";

    const irx=rx*innerScale, iry=ry*innerScale;
    const rot=rotationDeg*Math.PI/180;
    const cosR=Math.cos(rot), sinR=Math.sin(rot);

    for(let i=0;i<lines;i++){
      const t=(i/lines)*Math.PI*2;
      let x1=rx*Math.cos(t), y1=ry*Math.sin(t);
      const t2=t+phase+skewAmp*Math.sin(t*skewFreq);
      let x2=irx*Math.cos(t2), y2=iry*Math.sin(t2);
      const ox1=cx+x1*cosR-y1*sinR, oy1=cy+x1*sinR+y1*cosR;
      const ox2=cx+x2*cosR-y2*sinR, oy2=cy+x2*sinR+y2*cosR;

      const k=i/(lines-1);
      const [r,g,b]=lerp3(startColor,endColor,k);
      const a=fadeEdges ? 0.3+0.7*Math.sin(Math.PI*k)**0.7 : 1.0;
      ctx.strokeStyle=`rgba(${r|0},${g|0},${b|0},${a.toFixed(3)})`;

      ctx.beginPath(); ctx.moveTo(ox1,oy1); ctx.lineTo(ox2,oy2); ctx.stroke();
    }
  }

  // Hook sliders
  function bind(id,prop,mult=1){
    const el=document.getElementById(id);
    cfg[prop]=parseFloat(el.value)*mult;
    el.addEventListener("input",()=>{cfg[prop]=parseFloat(el.value)*mult;draw();});
  }
  bind("phase","phase",1);
  bind("skew","skewAmp",1);
  bind("scale","innerScale",1);
  bind("rot","rotationDeg",1);

  resize();
})();
</script>
</body>
</html>
<!--

How to use



    Phase: slides the “twist” angle.
    Skew Amp: adjusts asymmetry (denser vs looser side).
    Inner Scale: controls band thickness (smaller → fatter band).
    Rotation: rotates the whole figure.



This way you can tune the look until it matches the original image (or make new variations).
-->
