<html>
<body>  
<canvas id="c" width="800" height="800"></canvas>
<script>
/**
 * John Sharpâ€™s pursuit curves with a triangle.
 * Each vertex chases the next, leaving a trail.
 */
const canvas = document.getElementById("c");
const ctx = canvas.getContext("2d");

const W = canvas.width, H = canvas.height;
ctx.fillStyle = "white";
ctx.fillRect(0, 0, W, H);

// initial triangle (can try different shapes)
//let points = [
//  { x: 200, y: 200 },
//  { x: 600, y: 200 },
//  { x: 400, y: 600 }
//];
let points = [
    { x: 200, y: 200 },
    { x: 600, y: 200 },
    { x: 600, y: 600 },
    { x: 200, y: 600 }
];

//const stepSize = 0.01;   // speed of pursuit (fraction toward target each step)
//const steps = 5000;      // total iterations
//const trailAlpha = 0.25; // faint trails

const stepSize = 0.06;   // speed of pursuit (fraction toward target each step)
const steps = 55;      // total iterations
const trailAlpha = .6; // faint trails

function draw() {
  ctx.lineWidth = 1;
  ctx.strokeStyle = "rgba(0,0,255,"+trailAlpha+")";

  for (let s = 0; s < steps; s++) {
    ctx.beginPath();
    for (let i = 0; i < points.length; i++) {
      const p = points[i];
      if (i === 0) ctx.moveTo(p.x, p.y);
      else ctx.lineTo(p.x, p.y);
    }
    ctx.closePath();
    ctx.stroke();

    // update each point: chase next vertex
    points = points.map((p, i) => {
      const target = points[(i+1) % points.length];
      return {
        x: p.x + (target.x - p.x) * stepSize,
        y: p.y + (target.y - p.y) * stepSize
      };
    });
  }
}

draw();
</script>
</body>
</html>
