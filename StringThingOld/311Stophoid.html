<!--
ðŸ§  What This Gives You
â€¢ A canvas renderer for the strophoid curve
â€¢ A toggleable discussion overlay with symbolic commentary
â€¢ A clean, standalone environment to explore geometry and UI layering

---
When youâ€™re ready, we can add:
â€¢ Param sliders for `a` or `t` range
â€¢ Symbolic overlays (e.g., node, asymptotes)
â€¢ Export buttons or snapshot archiving

Let me know when you want to evolve this into a gallery item or integrate it into your sketchpad system. For now, itâ€™s your paradox sandbox.
-->
<!DOCTYPE html>
<html>
<head>
  <title>Strophoid Explorer</title>
  <style>
    body { font-family: sans-serif; margin: 0; overflow: hidden; }
    canvas { border: 1px solid #ccc; display: block; margin: 1em auto; }
    #controls {
      position: absolute; top: 10px; left: 10px;
      background: rgba(255,255,255,0.8); padding: 1em;
      border-radius: 8px; z-index: 5;
    }
    #overlay {
      position: absolute; top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(255,255,255,0.6);
      display: none; z-index: 10;
      padding: 2em;
    }
    #toggleBtn { position: absolute; top: 10px; right: 10px; z-index: 20; }
  </style>
</head>
<body>
  <div id="controls">
    <label>a: <input type="range" id="aSlider" min="10" max="300" value="100"></label><br>
    <label>Steps: <input type="range" id="stepsSlider" min="100" max="1000" value="500"></label>
  </div>
  <button id="toggleBtn">Show Discussion</button>
  <div id="overlay">
    <h2>Strophoid: A Paradox Engine</h2>
    <p><strong>Equation:</strong> `\( x^2(a - x) = a y^2 \)`</p>
    <p><strong>Tags:</strong> cubic, node, paradox</p>
    <p>The strophoid is a curve with a double point at the origin, symmetric yet divergent. Itâ€™s defined by a geometric construction involving a pole, a fixed point, and a rotating line...</p>
    <button onclick="toggleOverlay()">Close</button>
  </div>
  <canvas id="strophoidCanvas" width="800" height="600"></canvas>
  <script type="module">
    import { strophoidParametric } from './strophoid.js';
    const canvas = document.getElementById('strophoidCanvas');
    const ctx = canvas.getContext('2d');
    const aSlider = document.getElementById('aSlider');
    const stepsSlider = document.getElementById('stepsSlider');
    function drawStrophoid(a, steps) {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.save();
      ctx.translate(canvas.width / 2, canvas.height / 2);
      ctx.scale(1, -1);
      ctx.beginPath();
      for (let i = -5; i <= 5; i += 10 / steps) {
        const { x, y } = strophoidParametric(i, a);
        if (i === -5) ctx.moveTo(x, y);
        else ctx.lineTo(x, y);
      }
      ctx.strokeStyle = 'blue';
      ctx.lineWidth = 2;
      ctx.stroke();
      ctx.restore();
    }
    function update() {
      const a = parseFloat(aSlider.value);
      const steps = parseInt(stepsSlider.value);
      drawStrophoid(a, steps);
    }
    aSlider.addEventListener('input', update);
    stepsSlider.addEventListener('input', update);
    window.toggleOverlay = function () {
      const overlay = document.getElementById('overlay');
      overlay.style.display = overlay.style.display === 'none' ? 'block' : 'none';
    };
    update(); // Initial render
  </script>
</body>
</html>
