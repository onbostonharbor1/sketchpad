<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Hyperbola </title>
<script type="text/javascript">

window.addEventListener("load", eventWindowLoaded, false);	


  var Debugger = function () { };
  
  Debugger.log = function (message) {
	try {
		console.log(message);
	} catch (exception) {
		return;
	}
}


function eventWindowLoaded () {

	canvasApp();
}


function canvasApp () {
  		
		var theCanvas = document.getElementById("canvasOne");
		var context = theCanvas.getContext("2d"); 
		
		Debugger.log("Drawing Canvas");

		

  function background () {
      let canvas = document.querySelector("#canvasOne");
      let width = canvas.width;
      let height = canvas.height;
      context.fillStyle = "lightblue";
      context.fillRect(0,0,width,height);
      context.strokeStyle="PapayaWhip";
      context.lineWidth=1;

      steps = width/25;
      xPoint = 25;
      for (let i=0; i < steps; i++) {
          context.beginPath();
          context.moveTo(xPoint,0);
	  context.lineTo(xPoint,height);
          xPoint=xPoint+25;
          context.stroke();
	  context.closePath();
	  }

      steps = height/25;
      yPoint = 25;
      for (let i=0; i < steps; i++) {
          context.beginPath();
          context.moveTo(0,yPoint);
	  context.lineTo(width,yPoint);
          yPoint=yPoint+25;
          context.stroke();
	  context.closePath();
	  }
  }

/////////////////////////////////////////////////////////////////
// drawCircle
/////////////////////////////////////////////////////////////////
    function drawCircle(x,y,radius=230,color="black") {
	  let lineWidth = context.lineWidth;
	  let oldColor  = context.strokeStyle;
	  context.strokeStyle = color;
          context.lineWidth = 1;
	  context.beginPath();
	  context.arc(x,y,radius,0, (Math.PI/180)*360);
	  context.stroke();
          context.lineWidth   = lineWidth;
	  context.strokeStyle = oldColor;
      }
    function smallCircle(x,y,color="black") {
	  let lineWidth = context.lineWidth;
	  let oldColor  = context.strokeStyle;
	  context.strokeStyle = color;
          context.lineWidth = 3;
	  context.beginPath();
	  context.arc(x,y,3,0, (Math.PI/180)*360);
	  context.stroke();
          context.lineWidth   = lineWidth;
	  context.strokeStyle = oldColor;
      }


    function drawLine(x1,y1,x2,y2) {
//	if (x1==x2){
//	    return;
//	}
//	else
//	    context.strokeStyle = "black";
	context.strokeStyle = "black";
	context.beginPath();
	context.moveTo(x1,y1);
	context.lineTo(x2,y2);
	context.stroke();
	context.closePath();
    }

    function Hyperbola(numPoints,focus) {
	let xCenter  = 320;
	let yCenter  = 400;
	let R        = 140;
	drawCircle(xCenter,yCenter,R);
	H=Math.atan(R/Math.sqrt(focus*focus-R*R));
	G=2*(Math.PI+2*H)/(numPoints-2);
	for (i=-H; i < H+3.15; i=i+G){
	    A = R*Math.sin(i);
	    D = R*Math.cos(i);
	    if (D==0)
		T=0;
	    else if (D < 0)
		T = -3*R;
	    else
		T = 3*R;
	    K =A+T*D/(focus+A);
	    drawLine(xCenter+A,yCenter+D,xCenter+K, yCenter+D-T);
	    drawLine(xCenter-A,yCenter-D,xCenter-K, yCenter-D+T);
	}
    }


    function drawScreen() {
	background();
	Hyperbola(150,500);
    }

    drawScreen();
}


</script> 
</head>
<body>
<div style="position: absolute; top: 50px; left: 50px;">
<canvas id="canvasOne" width="800" height="800">

 Your browser does not support HTML 5 Canvas. 
</canvas>
</div>
</body>
</html>




