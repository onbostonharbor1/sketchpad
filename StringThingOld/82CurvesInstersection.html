<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Parametric Curve Intersection</title>
  <style>
    canvas {
      border: 1px solid black;
      margin-top: 10px;
    }
  </style>
</head>
<body>

<h2>Parametric Curve Intersection</h2>
<pre>
Output:

  Blue: Circle
  Green: Lissajous curve
  Red dots: Approximate intersections

You can easily customize:

  * curve1(t) and curve2(s) for any parametric formulas.
  * Increase steps or reduce threshold for higher accuracy.

Add UI controls to let users input custom functions (if desired).
</pre>


<canvas id="canvas" width="600" height="400"></canvas>

<script>
  
// Define two parametric curves: each as a function of t or s
function curve1(t) {
  // Example: circle
  return {
    x: 300 + 100 * Math.cos(t),
    y: 200 + 100 * Math.sin(t)
  };
}

function curve2(s) {
  // Example: Lissajous curve
  return {
    x: 300 + 100 * Math.sin(2 * s),
    y: 200 + 100 * Math.sin(3 * s)
  };*
}

// Distance between two points
function distance(p1, p2) {
  const dx = p1.x - p2.x;
  const dy = p1.y - p2.y;
  return Math.sqrt(dx * dx + dy * dy);
}

// Find intersection points approximately
function findIntersections(curve1, curve2, steps = 1000, threshold = 2) {
  const points1 = [];
  const points2 = [];

  for (let i = 0; i <= steps; i++) {
    const t = (i / steps) * 2 * Math.PI;
    points1.push(curve1(t));
    points2.push(curve2(t));
  }

  const intersections = [];

  for (let p1 of points1) {
    for (let p2 of points2) {
      if (distance(p1, p2) < threshold) {
        intersections.push({ x: (p1.x + p2.x) / 2, y: (p1.y + p2.y) / 2 });
      }
    }
  }

  return intersections;
}

// Draw curve on canvas
function drawCurve(ctx, curve, color) {
  ctx.beginPath();
  const steps = 1000;
  for (let i = 0; i <= steps; i++) {
    const t = (i / steps) * 2 * Math.PI;
    const pt = curve(t);
    if (i === 0) ctx.moveTo(pt.x, pt.y);
    else ctx.lineTo(pt.x, pt.y);
  }
  ctx.strokeStyle = color;
  ctx.lineWidth = 2;
  ctx.stroke();
}

// Draw intersection points
function drawPoints(ctx, points, color = 'red') {
  for (let pt of points) {
    ctx.beginPath();
    ctx.arc(pt.x, pt.y, 4, 0, 2 * Math.PI);
    ctx.fillStyle = color;
    ctx.fill();
  }
}

// Main rendering
function render() {
  const canvas = document.getElementById('canvas');
  const ctx = canvas.getContext('2d');
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  drawCurve(ctx, curve1, 'blue');
  drawCurve(ctx, curve2, 'green');

  const intersections = findIntersections(curve1, curve2);
  drawPoints(ctx, intersections, 'red');

  console.log("Intersection points found:", intersections);
}

render();
</script>

</body>
</html>
